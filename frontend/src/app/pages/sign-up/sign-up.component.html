<div id="container">
    <div id="inner">
        <img src="../../../assets\Logo.png" alt="" id="logo">
        <h1 id="title">Sign Up</h1>
        <p>Input the information required below</p>
        @if (!formStatus) {
        <span class="error">*There are missing or incorrect fields*</span>
        }
        <form id="form" [formGroup]="form">
            <article class="field">
                <label for="document">Document</label>
                <input type="number" name="document" placeholder="Document" formControlName="document" required
                    (change)="validateFields()">
                @if (form.get('document')?.hasError('required') && form.get('document')?.touched) {
                <span class="error">*Required field*</span>
                }
                @if (form.get('document')?.hasError('pattern')) {
                <span class="error">*Document must be a number between 8 and 10 characters*</span>
                }
            </article>
            <article class="field">
                <label for="email">Email</label>
                <input type="email" name="email" placeholder="Email" formControlName="email" required
                    (change)="validateFields()">
                @if (form.get('email')?.hasError('required') && form.get('email')?.touched) {
                <span class="error">*Required field*</span>
                }
                @if (form.get('email')?.hasError('pattern')) {
                <span class="error">*Invalid email*</span>
                }
            </article>
            <article class="field">
                <label for="password">Password</label>
                <input type="password" name="password" placeholder="Password" formControlName="password" required
                    (change)="pwdsEq = validatePwd(); validateFields()">
                @if (form.get('password')?.hasError('required') && form.get('password')?.touched) {
                <span class="error">*Required field*</span>
                }
                @if (form.get('password')?.hasError('pattern')) {
                <span class="error">*Password must include at least one letter, one digit and one special charater. The
                    minimum length is 8 characters*</span>
                }
            </article>
            <article class="field">
                <label for="password">Confirm Password</label>
                <input type="password" name="password2" placeholder="Confirm password" formControlName="password2"
                    required (change)="pwdsEq = validatePwd(); validateFields()">
                @if (form.get('password2')?.hasError('required') && form.get('password2')?.touched) {
                <span class="error">*Required field*</span>
                } @else {
                @if (!pwdsEq) {
                <span class="error">*Password confirmation must be equal to password*</span>
                }
                }
            </article>
            <article class="field">
                <label for="firstName">First name</label>
                <input type="text" name="firstName" placeholder="First Name" formControlName="firstName" required
                    (change)="validateFields()">
                @if (form.get('firstName')?.hasError('required') && form.get('firstName')?.touched) {
                <span class="error">*Required field*</span>
                }
                @if (form.get('firstName')?.hasError('pattern')) {
                <span class="error">*This field only allows letters*</span>
                }
            </article>
            <article class="field">
                <label for="middleName">MiddleName (optional)</label>
                <input type="text" id="middleName" name="middleName" placeholder="Middle Name (optional)"
                    formControlName="middleName" (change)="validateFields()">
                @if (form.get('middleName')?.hasError('pattern') && form.get('middleName')?.touched) {
                <span class="error">*This field only allows letters*</span>
                }
            </article>
            <article class="field">
                <label for="firstSurname">First Surname</label>
                <input type="text" name="firstSurname" placeholder="First Surname" formControlName="firstSurname"
                    required (change)="validateFields()">
                @if (form.get('firstSurname')?.hasError('required') && form.get('firstSurname')?.touched) {
                <span class="error">*Required field*</span>
                }
                @if (form.get('firstSurname')?.hasError('pattern')) {
                <span class="error">*This field only allows letters*</span>
                }
            </article>
            <article class="field">
                <label for="secondSurname">Second Surname</label>
                <input type="text" name="secondSurname" placeholder="Second Surname" formControlName="secondSurname"
                    required (change)="validateFields()">
                @if (form.get('secondSurname')?.hasError('required') && form.get('secondSurname')?.touched) {
                <span class="error">*Required field*</span>
                }
                @if (form.get('secondSurname')?.hasError('pattern')) {
                <span class="error">*This field only allows letters*</span>
                }
            </article>

            <article>
                <div id="termsAndConditions">
                    <article>
                        <input type="checkbox" id="terms" formControlName="terms" required (change)="validateFields()">
                        <label for="termsAndConditions">I have read and accept </label>
                        <a id="conditions" [routerLink]="['/terms']">terms and conditions</a>
                    </article>
                    <div>
                        @if (form.get('terms')?.hasError('required')) {
                        <span class="error">*Please read and accept termsAndConditions*</span>}
                    </div>
                </div>
            </article>
            @if (formStatus) {
            <button type="button" (click)="signUp()" class="btn">Sign Up</button>
            } @else {
            <button [disabled]="[true]" type="button" (click)="signUp()" class="btn disabled">Sign Up</button>
            }

        </form>
        <div id="links">
            <p>Do you have an account already?</p>
            <a [routerLink]="['/login']">Log In</a>
        </div>
    </div>
</div>